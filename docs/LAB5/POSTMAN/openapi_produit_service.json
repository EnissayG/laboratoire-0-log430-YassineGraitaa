{"openapi":"3.1.0","info":{"title":"Produits Service","version":"1.0"},"paths":{"/api/produits/filtrer":{"get":{"tags":["Produits"],"summary":"Filtrer, trier et paginer les produits","description":"Permet de filtrer les produits par catégorie, trier et paginer les résultats.","operationId":"filtrer_produits_api_produits_filtrer_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Size"}},{"name":"sort","in":"query","required":false,"schema":{"type":"string","default":"nom,asc","title":"Sort"}},{"name":"categorie","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categorie"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/produits/":{"get":{"tags":["Produits"],"summary":"Lister tous les produits","description":"Retourne tous les produits enregistrés dans tous les magasins.","operationId":"get_all_api_produits__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["Produits"],"summary":"Ajouter un nouveau produit","description":"Ajoute un nouveau produit dans un magasin donné. Le magasin est identifié par `magasin_id`.","operationId":"ajouter_api_produits__post","parameters":[{"name":"nom","in":"query","required":true,"schema":{"type":"string","title":"Nom"}},{"name":"categorie","in":"query","required":true,"schema":{"type":"string","title":"Categorie"}},{"name":"prix","in":"query","required":true,"schema":{"type":"number","title":"Prix"}},{"name":"quantite_stock","in":"query","required":true,"schema":{"type":"integer","title":"Quantite Stock"}},{"name":"magasin_id","in":"query","required":true,"schema":{"type":"integer","title":"Magasin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/produits/recherche":{"get":{"tags":["Produits"],"summary":"Rechercher un produit","description":"Recherche un produit par nom, catégorie ou ID numérique.","operationId":"rechercher_api_produits_recherche_get","parameters":[{"name":"critere","in":"query","required":true,"schema":{"type":"string","title":"Critere"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/produits/{produit_id}":{"put":{"tags":["Produits"],"summary":"Mettre à jour un produit","description":"Modifie un ou plusieurs champs (nom, prix, quantité...) d’un produit existant.","operationId":"update_produit_api_produits__produit_id__put","parameters":[{"name":"produit_id","in":"path","required":true,"schema":{"type":"integer","title":"Produit Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProduitUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/produits/{produit_id}/decrementer_stock":{"put":{"tags":["Produits"],"summary":"Décrémenter le stock d’un produit","description":"Soustrait une quantité du stock d’un produit.","operationId":"decrementer_stock_api_produits__produit_id__decrementer_stock_put","parameters":[{"name":"produit_id","in":"path","required":true,"schema":{"type":"integer","title":"Produit Id"}},{"name":"quantite","in":"query","required":true,"schema":{"type":"integer","title":"Quantite"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ProduitUpdate":{"properties":{"nom":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nom"},"categorie":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categorie"},"prix":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Prix"},"quantite_stock":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quantite Stock"}},"type":"object","required":["nom","categorie","prix","quantite_stock"],"title":"ProduitUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}